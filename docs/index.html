<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Home | @wazo/sdk</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Wazo&apos;s JavaScript Software Development Kit."><meta property="twitter:card" content="summary"><meta property="twitter:title" content="@wazo/sdk"><meta property="twitter:description" content="Wazo&apos;s JavaScript Software Development Kit."></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/wazo-pbx/wazo-js-sdk"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/api-client.js~ApiClient.html">ApiClient</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/web-rtc-client.js~WebRTCClient.html">WebRTCClient</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/websocket-client.js~WebSocketClient.html">WebSocketClient</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#api">api</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-accessd">accessd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-application">application</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-auth">auth</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-calllogd">calllogd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-confd">confd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ctidng">ctidng</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dird">dird</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#domain">domain</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/BadResponse.js~BadResponse.html">BadResponse</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/Call.js~Call.html">Call</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/CallLog.js~CallLog.html">CallLog</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/ChatMessage.js~ChatMessage.html">ChatMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/Contact.js~Contact.html">Contact</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/ForwardOption.js~ForwardOption.html">ForwardOption</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/Line.js~Line.html">Line</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/NotificationOptions.js~NotificationOptions.html">NotificationOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/Profile.js~Profile.html">Profile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/Session.js~Session.html">Session</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/Voicemail.js~Voicemail.html">Voicemail</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-FORWARD_KEYS">FORWARD_KEYS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PRESENCE">PRESENCE</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#domain-device">domain/Device</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/Device/DebugDevice.js~DebugDevice.html">DebugDevice</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#domain-phone">domain/Phone</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/domain/Phone/DebugPhone.js~DebugPhone.html">DebugPhone</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#utils">utils</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/CallbacksHandler.js~CallbacksHandler.html">CallbacksHandler</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/api-requester.js~ApiRequester.html">ApiRequester</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/logger.js~Logger.html">Logger</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="wazo--39-s-javascript-software-development-kit">Wazo&apos;s JavaScript Software Development Kit</h1><p><a href="https://badge.fury.io/js/%40wazo%2Fsdk"><img src="https://badge.fury.io/js/%40wazo%2Fsdk.svg" alt="npm version"></a>
<a href="https://greenkeeper.io/"><img src="https://badges.greenkeeper.io/wazo-pbx/wazo-js-sdk.svg" alt="Greenkeeper badge"></a></p>
<p>The Wazo JavaScript Software Development Kit is an API wrapper making it easy for you to communicate with your Wazo server. It allows you to add Wazo functionalities to any JavaScript application you are developing.</p>
<h2 id="usage">Usage</h2><h3 id="install---add">Install / Add</h3><p>You may install the Wazo JavaScript Software Development Kit to your project one of the following ways:</p>
<ul>
<li><code>npm install @wazo/sdk</code></li>
<li><code>yarn add @wazo/sdk</code></li>
</ul>
<h3 id="content-delivery-networks">Content Delivery Networks</h3><p>Alternatively, you may load the Wazo SDK from a CDN. Use one of the following Content Delivery Networks:</p>
<h4 id="unpkg">UNPKG</h4><pre><code><code class="source-code prettyprint">&lt;script src=&quot;https://unpkg.com/@wazo/sdk&quot;&gt;&lt;/script&gt;</code>
</code></pre><h4 id="jsdelivr">jsDelivr</h4><pre><code><code class="source-code prettyprint">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@wazo/sdk&quot;&gt;&lt;/script&gt;</code>
</code></pre><h3 id="require---import">Require / Import</h3><p>Depending on your preference, you may require or add the Wazo SDK to your own client application one of the following ways:</p>
<ul>
<li><code>const { WazoApiClient } = require(&apos;@wazo/sdk&apos;);</code></li>
<li><code>import { WazoApiClient } from &apos;@wazo/sdk&apos;;</code></li>
</ul>
<h3 id="init">Init</h3><pre><code class="lang-js"><code class="source-code prettyprint">const client = new WazoApiClient({
  server: &apos;demo.wazo.community&apos;, // required string
  agent: null // http(s).Agent instance, allows custom proxy, unsecured https, certificate etc.
});</code>
</code></pre>
<h3 id="log-in">Log In</h3><pre><code class="lang-js"><code class="source-code prettyprint">client.auth.logIn({
  expiration, // optional integer. Session life in number of seconds. If omitted, defaults to 3600 (an hour).
  username, // required string
  password, // required string
  backend, // optional string. If omitted, defaults to wazo_user
}).then(/* undefined if login failed, or : */{
  metadata: {
    username,
    uuid_tenant_uuid,
    xivo_user_uuid,
    groups,
    xivo_uuid,
    tenants: [{ uuid }],
    auth_id
  },
  token, // should be used for other request
  acls,
  utc_expires_at,
  xivo_uuid,
  issued_at,
  utc_issued_at,
  auth_id,
  expires_at,
  xivo_user_uuid
});
// or
const result = await client.auth.login(/* ... */);</code>
</code></pre>
<h3 id="log-out">Log Out</h3><pre><code class="lang-js"><code class="source-code prettyprint">client.auth.logOut(token).then(/* ... */);
// or
await client.auth.logOut(token);</code>
</code></pre>
<h3 id="check-token">Check token</h3><pre><code><code class="source-code prettyprint">client.auth.checkToken(token).then(valid);
// or
const valid = await client.auth.checkToken(token);</code>
</code></pre><h3 id="other-auth-methods">Other auth methods</h3><pre><code class="lang-js"><code class="source-code prettyprint">client.auth.listTenants(token);
client.auth.createTenant(token, name);
client.auth.deleteTenant(token, uuid);
client.auth.listUsers(token);
client.auth.listGroups(token);
client.auth.listPolicies(token);</code>
</code></pre>
<h3 id="application">Application</h3><pre><code class="lang-js"><code class="source-code prettyprint">client.application.calls(token, applicationUuid); // list calls
client.application.hangupCall(token, applicationUuid, callId); // hangup a call
client.application.answerCall(token, applicationUuid, callId, context, exten, autoanswer);  // answer a call
client.application.listNodes(token, applicationUuid); // list nodes
client.application.listCallsNodes(token, applicationUuid, nodeUuid); // list calls in a node
client.application.removeCallNodes(token, applicationUuid, nodeUuid, callId); // remove call from node (no hangup)
client.application.addCallNodes(token, applicationUuid, nodeUuid, callId); // add call in a node
client.application.playCall(token, applicationUuid, callId, language, uri); // play a sound into a call</code>
</code></pre>
<h3 id="confd">Confd</h3><pre><code class="lang-js"><code class="source-code prettyprint">client.confd.listUsers(token);
client.confd.getUser(token, userUuid);
client.confd.getUserLineSip(token, userUuid, lineId);
client.confd.listApplications(token);</code>
</code></pre>
<h3 id="accessd">Accessd</h3><pre><code class="lang-js"><code class="source-code prettyprint">client.accessd.listSubscriptions(token);
client.accessd.createSubscription(token, { productSku, name, startDate, contractDate, autoRenew, term });
client.accessd.getSubscription(token, uuid);
client.accessd.listAuthorizations(token);
client.accessd.getAuthorization(token, uuid);
</code>
</code></pre>
<h3 id="webrtcphone">WebRTCPhone</h3><pre><code class="lang-js"><code class="source-code prettyprint">import { WazoWebRTCClient } from &apos;@wazo/sdk&apos;;

const config = {
  wsServer: &apos;wss://path.to/asterisk/ws&apos;,
  displayName: &apos;My Display Name&apos;,
  authorizationUser: &apos;line username&apos;,
  password: &apos;line password&apos;,
  uri: &apos;user@server.com&apos;,
  media: {
    audio: document.getElementById(&apos;audio&apos;), // Pointing to a `&lt;audio id=&quot;audio&quot; /&gt;` element
    video: document.getElementById(&apos;video&apos;), // optional, pointing to a `&lt;video id=&quot;video&quot; /&gt;` element
    localVideo: document.getElementById(&apos;local-video&apos;) // optional, pointing to a `&lt;video id=&quot;local-video&quot; /&gt;` element
  }
};

const phone = new WazoWebRTCClient(config, callback);
// eventName can be on the of events here: https://sipjs.com/api/0.11.0/simple/#events
// You can also use a wildcard: phone.on(&apos;*&apos;, (event, eventName) =&gt; {}) to catch all events
phone.on(&apos;eventName&apos;, (event) =&gt; {
});

phone.call(&apos;1234&apos;);</code>
</code></pre>
<h3 id="wazo-websocket">Wazo Websocket</h3><pre><code class="lang-js"><code class="source-code prettyprint">import { WazoWebSocketClient } from &apos;@wazo/sdk&apos;;

const ws = new WazoWebSocket({
  host, // wazo websocket host
  token, // valid Wazo token
});

// eventName can be on the of events here: http://documentation.wazo.community/en/stable/api_sdk/websocket.html
// You can also use a wildcard: ws.on(&apos;*&apos;, (event, eventName) =&gt; {}) to catch all events
ws.on(&apos;eventName&apos;, (event) =&gt; {
});

ws.connect();</code>
</code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
